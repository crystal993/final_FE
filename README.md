# 멍냥마켓
## ![image](https://user-images.githubusercontent.com/72599761/193500030-784be94c-d5c9-438f-b4af-2adce019af44.png) 프로젝트 소개
![image](https://user-images.githubusercontent.com/72599761/193499776-c528e11a-fa77-47f8-a7d7-65b40d1f4f71.png)

![image](https://user-images.githubusercontent.com/72599761/193501894-dc660188-fafa-48b8-bd03-52fb13e6e9ad.png)  소중한 반려동물을 위해, 안 쓰는 반려동물 용품, 멍냥마켓에서 손쉽게 직거래하세요!  <br> 
![image](https://user-images.githubusercontent.com/72599761/193501899-201d9b77-64c1-48bd-9cc5-c21c68319bfd.png)  반려동물의 취향에 맞지 않는 물건들이 있거나, 방치되고 있는 반려동물 용품들이 있다면, 사진을 올려 판매 가능한 웹 애플리케이션<br> 

### [멍냥마켓 바로가기](https://meongnyang-market.com/)
2022.10.26 백엔드 서버를 내린 상태라 어떠한 데이터도 보이지 않는 상태입니다. 

### [Front-End Github](https://github.com/Hanhae99-final-3team/final_FE/) 
### [Back-End Github](https://github.com/Hanhae99-final-3team/final-be/) 
<br>
<hr>
<br>

## ⚙️ 서비스 아키텍처 
![image](https://user-images.githubusercontent.com/72599761/193501534-683c0049-c673-4105-af83-a86e8aee8965.png)

<br>
<hr>
<br>

## 📅 프로젝트 기간   

기간 : 2022년 8월 26일 ~ 2022년 10월 7일(6주)

<br>
<hr>
<br>

## 🛠 기술 스택

<div align=center> 
  <img src="https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html5&logoColor=white"> 
  <img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white"> 
  <img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black"> 
  <br> 

  <img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black"> 
  <img src="https://img.shields.io/badge/redux_toolkit-764ABC?style=for-the-badge&logo=redux&logoColor=black"> 
  <img src="https://img.shields.io/badge/axios-5A29E4?style=for-the-badge&logo=axios&logoColor=white"> 
  <img src="https://img.shields.io/badge/styled_components-DB7093?style=for-the-badge&logo=styled-components&logoColor=white"> 
  <br>
  
  <img src="https://img.shields.io/badge/vs_code-007ACC?style=for-the-badge&logo=visualstudiocode&logoColor=white">
  <img src="https://img.shields.io/badge/yarn-2C8EBB?style=for-the-badge&logo=yarn&logoColor=white">
  <img src="https://img.shields.io/badge/react_hook_form-EC5990?style=for-the-badge&logo=reacthookform&logoColor=white">
  <img src="https://img.shields.io/badge/react_router_dom-CA4245?style=for-the-badge&logo=reactrouter&logoColor=white">
  <br>
  
  <img src="https://img.shields.io/badge/aws_route53-232F3E?style=for-the-badge&logo=amazonaws&logoColor=white"> 
  <img src="https://img.shields.io/badge/aws_cloud_front-FF9900?style=for-the-badge&logo=awsfargate&logoColor=white"> 
  <img src="https://img.shields.io/badge/amazon_S3-569A31?style=for-the-badge&logo=amazons3&logoColor=white"> 
  <br> 

  <img src="https://img.shields.io/badge/figma-F24E1E?style=for-the-badge&logo=figma&logoColor=white">
  <img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">
  <img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white">
  <br> 
    

  <br>
</div>

<br>
<hr>
<br> 

## 🗺 API 설계 

### [API 설계 보러가기](https://heather-warbler-33c.notion.site/API-fb817bdee95f4d03bf54e69108d0dfa8)

<br>
<hr>
<br>

## 🔰 사용한 패키지와 버전

```
    "@reduxjs/toolkit": "^1.8.5",
    "@stomp/stompjs": "^6.1.2",
    "axios": "^0.27.2",
    "browser-image-compression": "^2.0.0",
    "dotenv": "^16.0.1",
    "jwt-decode": "^3.1.2",
    "react": "^18.2.0",
    "react-hook-form": "^7.34.2",
    "react-redux": "^8.0.2",
    "react-router-dom": "^6.3.0",
    "react-slick": "^0.29.0",
    "react-stomp": "^5.1.0",
    "recharts": "^2.1.14",
    "redux-thunk": "^2.4.1",
    "slick-carousel": "^1.8.1",
    "sockjs-client": "^1.6.1",
    "styled-components": "^5.3.5",
    "swiper": "^8.4.2",
    "uuidv4": "^6.2.13",
    "webstomp-client": "^1.2.6"
```
<details>
<summary>사용한 패키지 간략한 설명</summary>
<div markdown="1">
- redux, redux-toolkit : 리덕스 툴킷 사용<br>  
- styled-components : 스타일 적용<br>
- axios : 서버와 비동기 통신<br>
- react-hook-form : 폼 유효성<br>
- dotenv : 환경변수 설정<br>
- recharts : 차트 라이브러리 이용<br>
- sockjs-client, stompjs: 채팅<br>
- swiper : 인기 검색어 스와이퍼 기능<br>
- uuidv4 : 랜덤 아이디값 부여<br>
- react-slick, slick-carousel : 메인 배너 슬라이드, 상세 페이지 이미지 뷰<br>
- jwt-decode: 토큰 디코딩<br>
</div>
</details>


<br>
<hr>
<br>

## 🔨 기술 도입 이유 - 라이브러리, 기술적 의사 결정

### 1) 라이브러리 

### [ ✨ 라이브러리 도입 이유 - Wiki 바로가기 📚 ](https://github.com/Hanhae99-final-3team/final_FE/wiki/%E2%9C%A8-%EA%B8%B0%EC%88%A0-%EB%8F%84%EC%9E%85-%EC%9D%B4%EC%9C%A0_%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-%F0%9F%93%9A)

### 2) 기술적 의사 결정 

<br>
<hr>
<br>

## ✨ 주요 기능  
|페이지|API 연결, 기능 및 CSS|
|---|---|
|로그인|✅카카오 로그인<br>✅로그인|
|회원가입|✅회원가입<br>✅아이디 중복 체크<br>✅닉네임 중복 체크|
|메인페이지|✅무한스크롤<br>✅펫 카테고리 필터링|
|Market 상세 페이지|✅다중 이미지 슬라이더<br>✅카카오톡 공유하기<br>✅가격 비교 탭 아코디언<br>✅가격 비교하기 차트<br>✅상품 찜 기능<br>✅댓글 CRUD|
|Market 작성 페이지|✅이미지 다중 업로드<br>✅다중 이미지 슬라이더<br>✅폼 유효성 검사(제목 20자 이내, 가격 백만원 대)<br>✅유저 현재위치|
|Market 수정 페이지|✅이미지 다중 업로드<br>✅다중 이미지 슬라이더<br>✅폼 유효성 검사(제목 20자 이내, 가격 백만원 대)<br>✅유저 현재위치|
|검색 페이지|✅인기 검색어<br>✅최근 검색어<br>✅최근 검색어 자동 저장 연결 및 토글<br>✅최근 검색어 전체 삭제<br>✅최근 검색어 개별 삭제<br>✅자동 완성|
|검색 결과 페이지|✅인기순 필터링<br>✅최신순 필터링<br>|
|마이 페이지|✅로그아웃<br>✅마이페이지 차트<br>|
|내가 쓴 글|✅내가 쓴 글<br>|
|찜 리스트|✅찜 리스트<br>|
|최근 본 상품|✅최근 본 상품<br>|
|모달|✅모달 css ✅찜 기능, 게시글 삭제 기능에 연결|
|헤더|✅헤더 css ✅아이템 카테고리 필터링|
|반응형|✅모바일<br>✅태블릿 <br>✅PC|

<br>
<hr>
<br>

## 🎯 트러블 슈팅 

### 1. 검색어 자동 완성 API call 1/8로 최소화

|구분|설명|
|---|---|
|문제<br>상황|빠르게 많은 텍스트를 input창에 입력하면<br>자동완성 API로 받아오는 응답값에 블링킹 현상이 발생|
|문제원인|예를 들어 ‘고양이’이라는 단어를 입력하는데<br>api call이 onChange마다 일어나서 16번이 호출이 되었습니다.|
|문제해결|사용자가 타이핑을 할 때마다 API를 호출하게 되면 짧은 시간 동안 너무 많은 API를 호출하게 되고 이는 네트워크 트래픽 증가로 인해 서버 부하가 발생할 수 있습니다. 검색 성능을 향상 시키기 위해 커스텀 훅 useDebounce를 만들어서 적용했습니다. <br> setTimeout으로 마지막 이벤트 발생 이후 350ms 동안 추가 이벤트가 발생하지 않을 경우 debounce 콜백 함수 실행하도록 코드를 작성했습니다. 이를 통해 타이핑을 할 때마다 axios 통신이 발생하는 것을 방지할 수 있었습니다.|
|해결결과|예를 들어 ‘고양이’이라는 단어를 입력했을 때 네트워크 트래픽을 보면 onChange로는 api call이 16번 일어났다면, useDebounce를 적용했을 때 api call이 2번으로 줄어들었습니다. 이로써, 네트워크 트래픽량도 1/8로 감소됨을 확인할 수 있었습니다. |

##### Debounce 적용 전/후
|적용 전|적용 후|
|---|---|
|![debounce적용전_네트워크 트래픽](https://user-images.githubusercontent.com/72599761/193569214-0ebc9139-0fb2-4ad7-8c3c-8ecf8d0487b8.gif)|![debounce적용후_네트워크 트래픽](https://user-images.githubusercontent.com/72599761/193569257-4cf4a103-64d7-4b26-87e3-1c8cf2765f47.gif)|

### 2. 찜 API call 1/3로 최소화 

|구분|설명|
|---|---|
|문제상황|찜버튼을 누를 때 마다 서버에 API 요청을 보낸다.<br>작정하고 팀을 만들어서 누르면 네트워크 트래픽 양이 증가하여 서버 부하가 생길 수 있다.|
|문제원인|찜버튼을 누를 때 마다 서버에 API 요청을 보낸다.<br>작정하고 팀을 만들어서 누르면 네트워크 트래픽 양이 증가하여 서버 부하가 생길 수 있다.|
|문제해결|검색 API 호출을 줄이기 위해 useDebounce 커스텀 훅을 만들어서 사용했는데, input 값에 대해 지연시간을 줘서 반환하는 형태라 찜상태에 따라 api 요청을 다르게 보내는 함수에 적용하기에는 적합하지 않다고 판단.<br>lodash를 사용하기로 결정. throttle은 일정한 주기마다 api call 하므로 의미가 없다고 판단했다. 연속되는 이벤트 중 마지막 이벤트만 적용하기 위해서는 debounce를 사용하는 것이 적합하므로 lodash의 debounce를 적용.|
|해결결과|Lodash debounce를 적용한 전/후 둘 다 찜버튼을 12번 클릭했다.<br>적용하기 전에는 총 api call이 14번이 일어나고, 적용한 후에는 api call이 5번 일어났다.<br>대략 api call이 1/3로 줄어든 것을 볼 수 있다.<br>이로써 1/3로 네트워크 트래픽 량이 감소한 것을 확인할 수 있었습니다.  |

##### Debounce 적용 전/후
|적용 전|적용 후|
|---|---|
|![찜버튼_네트워크 요청_lodash적용전](https://user-images.githubusercontent.com/72599761/194446442-7dfe2af5-af5c-4e3c-a0a5-6adbd9294c4d.gif)|![찜버튼_네트워크 요청_lodash적용](https://user-images.githubusercontent.com/72599761/194446453-b74bffb5-25fa-40cc-bd7b-267ae8bc9852.gif)|


<br>
<hr>
<br>

## 👩‍💻 유저 피드백 및 개선 사항

2022년 09월 29일 수요일 ~ 2022년 10월 1일까지 멍냥마켓 서비스에 대해 48명 유저의 피드백을 받고 서비스 개선을 진행했습니다. 

#### [[유저 피드백 1] 콘솔 로그 지우기 (2명) ](https://github.com/Hanhae99-final-3team/final_FE/issues/168)
#### [[유저 피드백 2] 제목, 댓글 글씨 영역을 벗어나는 에러 (6명) ](https://github.com/Hanhae99-final-3team/final_FE/issues/169)
#### [⭐ [유저 피드백 3] 스크롤바가 유지되는 에러 수정 (6명) ](https://github.com/Hanhae99-final-3team/final_FE/issues/170)
#### [[유저 피드백 4] 게시글 작성, 수정 글자 제한 (3명) ](https://github.com/Hanhae99-final-3team/final_FE/issues/185)
#### [[유저 피드백 5] 검색 기능에서 빈 값을 검색할 때 undefined가 나오는 현상 (3명) ](https://github.com/Hanhae99-final-3team/final_FE/issues/186)
#### [⭐ [유저 피드백 6] 메인 로고 눌렀을 때 초기화 및 메인 텍스트 변경 (3명) ](https://github.com/Hanhae99-final-3team/final_FE/issues/190)
#### [[유저 피드백 7] 게시글 정렬이 맞지 않는 에러 (4명) ](https://github.com/Hanhae99-final-3team/final_FE/issues/192) 
#### [⭐⭐⭐ [유저 피드백 8] 아이템 찜 버튼 api call 성능최적화 (1명)](https://github.com/Hanhae99-final-3team/final_FE/issues/202)
<br>
<hr>
<br>

## 🐶 추가하고 싶은 기능 

### 1) 기능
관리자 페이지, 신고하기, 알림  

### 2) 기술 
타입스크립트 적용하기 

<br>
<hr>
<br>

## 👨‍👩‍👧 팀원 소개  

|이름|깃허브 주소|포지션|
|---|---|---|
|김수정|[crystal993의 github](https://github.com/crystal993)|Frontend|
|김주형|[KoreanCodingMachine의 github](https://github.com/KoreanCodingMachine)|Frontend|
|이회섭|[HoisubLee의 github](https://github.com/HoisubLee)|Backend|
|김재영|[fabius96의 github](https://github.com/fabius96)|Backend|
|한종혁|[1argeD의 github](https://github.com/1argeD)|Backend|
|양명현|[thisLife-hyeon의 github](https://github.com/thisLife-hyeon)|UI/UX|


<br>
<hr>
<br>
